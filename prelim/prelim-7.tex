\section{Adic rings}
\label{section-adic-rings}

\subsection{Admissible rings}
\label{subsection-admissible-rings}

\begin{env}[7.1.1]
\label{env-0.7.1.1}
Recall that in a topological ring $A$ (not necessarily separated), we say that an element $x$
is {\em topologically nilpotent} if $0$ is {\em a} limit of the sequence
$(x^n)_{n\geqslant 0}$. We say that a topological ring $A$ is {\em linearly topologized} if
there exists a fundamental system of neighborhoods of $0$ in $A$ of (necessarily {\em open})
{\em ideals}.
\end{env}

\begin{defn}[7.1.2]
\label{defn-0.7.1.2}
In a linearly topologized ring $A$, we say that an ideal $\mathfrak{J}$ is an {\em ideal of
definition} if $\mathfrak{J}$ is open and if, for each neighborhood $V$ of $0$, there exists
a integer $n>0$ such
\oldpage{61}
that $\mathfrak{J}^n\subset V$ {\em (which we express, by abuse of language, by saying that
the sequence $(\mathfrak{J}^n)$ {\em tends to $0$})}. We say that a linearly topologized
ring $A$ is {\em pre-admissible} if there exists in $A$ an ideal of definition; we say that
$A$ is {\em admissible} if it is pre-admissible and if in addition it is separated and
complete.
\end{defn}

It is clear that if $\mathfrak{J}$ is an ideal of definition, $\mathfrak{L}$ an open ideal of
$A$, then $\mathfrak{J}\cap\mathfrak{L}$ is also an ideal of definition; the ideals of
definition of a pre-admissible ring $A$ thus form a {\em fundamental system of neighborhoods
of $0$}.

\begin{lem}[7.1.3]
\label{lem-0.7.1.3}
Let $A$ be a linearly topologized ring.
\begin{itemize}
  \item[{\rm(i)}] For $x\in A$ to be topologically nilpotent, it is necessary and sufficient that for
    each open ideal $\mathfrak{J}$ of $A$, the canonical image of $x$ in $A/\mathfrak{J}$ is
    nilpotent. The set $\mathfrak{T}$ of topologically nilpotent elements of $A$ is an ideal.
  \item[{\rm(ii)}] Suppose that in addition $A$ is pre-admissible, and let $\mathfrak{J}$ be an ideal
     of definition for $A$. For $x\in A$ to be topologically nilpotent, it is necessary and
     sufficient that its canonical image in $A/\mathfrak{J}$ is nilpotent; the ideal
     $\mathfrak{T}$ is the inverse image of the nilradical of $A/\mathfrak{J}$ and is thus open.
\end{itemize}
\end{lem}

\begin{proof}
\label{proof-lem-0.7.1.3}
(i) follows immediately from the definitions. To prove (ii), it suffices to note that for
each neighborhood $V$ of $0$ in $A$, there exists an $n>0$ such that
$\mathfrak{J}^n\subset V$; if $x\in A$ is such that $x^m\in\mathfrak{J}$, we have
$x^{mq}\in V$ for $q\geqslant n$, so $x$ is topologically nilpotent.
\end{proof}

\begin{prop}[7.1.4]
\label{prop-0.7.1.4}
Let $A$ be a pre-admissible ring, $\mathfrak{J}$ an ideal of definition for $A$.
\begin{itemize}
  \item[{\rm(i)}] For an ideal $\mathfrak{J}'$ of $A$ to be contained in an ideal of
    definition, it is necessary and sufficient that there exists an integer
    $n>0$ such that ${\mathfrak{J}'}^n\subset\mathfrak{J}$.
  \item[{\rm(ii)}] For an $x\in A$ to be contained in an ideal of definition, it is
    necessary and sufficient that it is topologically nilpotent.
\end{itemize}
\end{prop}

\begin{proof}
\label{proof-prop-0.7.1.4}
\medskip\noindent
\begin{itemize}
  \item[(i)] If ${\mathfrak{J}'}^n\subset\mathfrak{J}$, then for each open neighborhood
    $V$ of $0$ in $A$, there exists an $m$ such that $\mathfrak{J}^m\subset V$, thus
    ${\mathfrak{J}'}^{mn}\subset V$.
  \item[(ii)] The condition is evidently necessary; it is sufficient, since if it
    satisfied, then there exists an $n$ such that $x^n\in\mathfrak{J}$, so
    $\mathfrak{J}'=\mathfrak{J}+Ax$ is an ideal of definition, because it is
    open, and ${\mathfrak{J}'}^n\subset\mathfrak{J}$.
\end{itemize}
\end{proof}

\begin{cor}[7.1.5]
\label{cor-0.7.1.5}
In a pre-admissible ring $A$, an open prime ideal contains all the ideals of definition.
\end{cor}

\begin{cor}[7.1.6]
\label{cor-0.7.1.6}
The notations and hypotheses being that of \hyperref[prop-0.7.1.4]{(7.1.4)}, the following
properties of an ideal $\mathfrak{J}_0$ of $A$ are equivalent:
\begin{itemize}
  \item[{\rm(a)}] $\mathfrak{J}_0$ is the largest ideal of definition of $A$;
  \item[{\rm(b)}] $\mathfrak{J}_0$ is a maximal ideal of definition;
  \item[{\rm(c)}] $\mathfrak{J}_0$ is an ideal of definition such that the ring $A/\mathfrak{J}_0$
    is reduced.
\end{itemize}
For there to exist an ideal $\mathfrak{J}_0$ to have these properties, it is
necessary and sufficient that the nilradical of $A/\mathfrak{J}$ to be
nilpotent; $\mathfrak{J}_0$ is then equal to the ideal $\mathfrak{T}$ of
topologically nilpotent elements of $A$.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.1.6}
It is clear that (a) implies (b), and (b) implies (c) according to
\hyperref[prop-0.7.1.4]{(7.1.4)}, (ii), and \hyperref[lem-0.7.1.3]{(7.1.3)}, (ii); for the same
reason, (c) implies (a). The latter assertion follows from \hyperref[prop-0.7.1.4]{(7.1.4)}, (i) and
\hyperref[lem-0.7.1.3]{(7.1.3)}, (ii).
\end{proof}

When $\mathfrak{T}/\mathfrak{J}$, the nilradical of $A/\mathfrak{J}$, is
nilpotent, and we denote by $A_\text{red}$ the (reduced) quotient ring
$A/\mathfrak{T}$.

\begin{cor}[7.1.7]
\label{cor-0.7.1.7}
\oldpage{62}
A pre-admissible Noetherian ring admits a largest ideal of definition.
\end{cor}

\begin{cor}[7.1.8]
\label{cor-0.7.1.8}
If a pre-admissible ring $A$ is such that, for an ideal of definition
$\mathfrak{J}$, the powers $\mathfrak{J}^n$ ($n>0$) form a fundamental system
of neighborhoods of $0$, it is the same for the powers ${\mathfrak{J}'}^n$ for
each ideal of definition $\mathfrak{J}'$ of $A$.
\end{cor}

\begin{defn}[7.1.9]
\label{defn-0.7.1.9}
We say that a pre-admissible ring $A$ is {\em pre-adic} if there exists an
ideal of definition $\mathfrak{J}$ for $A$ such that the $\mathfrak{J}^n$ form
a fundamental system of neighborhoods of $0$ in $A$ {\em (or equivalently, such
that the $\mathfrak{J}^n$ are {\em open})}. We call a ring {\em adic} if it
is a separated and complete pre-adic ring.
\end{defn}

If $\mathfrak{J}$ is an ideal of definition for a pre-adic (resp. adic) ring
$A$, we say that $A$ is a {\em $\mathfrak{J}$-pre-adic}
(resp. {\em $\mathfrak{J}$-adic}) ring, and that its topology is the
{\em $\mathfrak{J}$-pre-adic} (resp. {\em $\mathfrak{J}$-adic}) topology. More
generally, if $M$ is an $A$-module, the topology on $M$ having for a fundamental
system of neighborhoods of $0$ the submodules $\mathfrak{J}^n M$ is called the
{\em $\mathfrak{J}$-pre-adic} (resp. {\em $\mathfrak{J}$-adic}) topology.
According to \hyperref[cor-0.7.1.8]{(7.1.8)}, these topologies are independent of the choice
of the ideal of definition $\mathfrak{J}$.

\begin{prop}[7.1.10]
\label{prop-0.7.1.10}
Let $A$ be an admissible ring, $\mathfrak{J}$ an ideal of definition for $A$.
Then $\mathfrak{J}$ is contained in the radical of $A$.
\end{prop}

This statement is equivalent to any of the following corollaries:
\begin{cor}[7.1.11]
\label{cor-0.7.1.11}
For each $x\in\mathfrak{J}$, $1+x$ is invertible in $A$.
\end{cor}

\begin{cor}[7.1.12]
\label{cor-0.7.1.12}
For $f\in A$ to be invertible in $A$, it is necessary and sufficient that its
canonical image in $A/\mathfrak{J}$ is invertible in $A/\mathfrak{J}$.
\end{cor}

\begin{cor}[7.1.13]
\label{cor-0.7.1.13}
For each $A$-module $M$ of finite type, the relation $M=\mathfrak{J}M$
(equivalent to $M\otimes_A(A/\mathfrak{J})=0$) implies that $M=0$.
\end{cor}

\begin{cor}[7.1.14]
\label{cor-0.7.1.14}
Let $u:M\to N$ be a homomorphism of $A$-modules, $N$ being of finite type; for
$u$ to be surjective, it is necessary and sufficient that
$u\otimes 1:M\otimes_A(A/\mathfrak{J})\to N\otimes_A(A/\mathfrak{J})$ is.
\end{cor}

\begin{proof}
\label{proof-prop-0.7.1.10}
The equivalence of \hyperref[prop-0.7.1.10]{(7.1.10)} and \hyperref[cor-0.7.1.11]{(7.1.11)}
follows from Bourbaki, {\em Alg.}, chap.~VIII, \textsection6, no.~3,
th.~1, and the equivalence of \hyperref[prop-0.7.1.10]{(7.1.10)} and
\hyperref[prop-0.7.1.10]{(7.1.10)} and \hyperref[cor-0.7.1.13]{(7.1.13)} follows from
{\em loc. cit.}, th. 2; the fact that \hyperref[prop-0.7.1.10]{(7.1.10)} implies
\hyperref[cor-0.7.1.14]{(7.1.14)} follows from {\em loc. cit.},
cor.~4 of the prop.~6; on the other hand, \hyperref[cor-0.7.1.14]{(7.1.14)} implies
\hyperref[cor-0.7.1.13]{(7.1.13)} by applying the zero homomorphism. Finally,
\hyperref[prop-0.7.1.10]{(7.1.10)} implies that if $f$ is invertible in $A/\mathfrak{J}$,
then $f$ is not contained in any maximal ideal of $A$, thus $f$ is invertible in $A$,
in other words, \hyperref[prop-0.7.1.10]{(7.1.10)} implies \hyperref[cor-0.7.1.12]{(7.1.12)};
conversely, \hyperref[cor-0.7.1.12]{(7.1.12)} implies \hyperref[cor-0.7.1.11]{(7.1.11)}.

It therefore remains to prove \hyperref[cor-0.7.1.11]{(7.1.11)}. Now as $A$ is separated and
complete, and the sequence $(\mathfrak{J}^n)$ tends to $0$, it is immediate that
the series $\sum_{n=0}^\infty(-1)^n x^n$ is convergent in $A$, and that if $y$
is its sum, then we have $y(1+x)=1$.
\end{proof}

\subsection{Adic rings and projective limits}
\label{subsection-adic-rings-and-projective-limits}

\begin{env}[7.2.1]
\label{env-0.7.2.1}
Each projective limit of {\em discrete} rings is evidently a linearly
topologized ring, separated and compact. Conversely, let $A$ be a linearly
topologized ring, and let $(\mathfrak{J}_\lambda)$ be a fundamental system of
open neighborhoods of $0$ in $A$ consisting of
\oldpage{63}
ideals. The canonical maps $\vphi_\lambda:A\to A/\mathfrak{J}_\lambda$ form
a projective system of continuous representations and therefore defines a
continuous representation $\vphi:A\to\varprojlim A/\mathfrak{J}_\lambda$; if $A$
is {\em separated}, then $\vphi$ is a topological isomorphism from $A$ to an
everywhere dense subring of $\varprojlim A/\mathfrak{J}_\lambda$; if in
addition $A$ is {\em complete}, then $\vphi$ is a topological isomorphism from
$A$ to $\varprojlim A/\mathfrak{J}_\lambda$.
\end{env}

\begin{lem}[7.2.2]
\label{lem-0.7.2.2}
For a linearly topologized ring to be admissible, it is necessary and sufficient
that it is isomorphic to a projective limit $A=\varprojlim A_\lambda$, where
$(A_\lambda,\mu_{\lambda\mu})$ is a projective limit of discrete rings having
for the set of indices a filtered ordered (by $\leqslant$) $L$ which admits
a smallest element denoted $0$ and satisfies the following conditions:
1st the $u_\lambda:A\to A_\lambda$ are sujective;
2nd the kernel $\mathfrak{J}_\lambda$ of
$u_{0\lambda}:A_\lambda\to A_0$ is nilpotent. When this is so, the kernel
$\mathfrak{J}$ of $u_0:A\to A_0$ is equal to $\varprojlim\mathfrak{J}_\lambda$.
\end{lem}

\begin{proof}
\label{proof-lem-0.7.2.2}
The necessity of the condition follows from \hyperref[env-0.7.2.1]{(7.2.1)}, by choosing
$(\mathfrak{J}_\lambda)$ to be a fundamental system of neighborhoods of $0$
consisting of ideals of definitions contained in an ideal of definition
$\mathfrak{J}_0$ and by applying \hyperref[prop-0.7.1.4]{(7.1.4)}, (i). The converse follows
from the definition of the projective limit and from \hyperref[env-0.7.2.1]{(7.2.1)}, and the
latter assertion is immediate.
\end{proof}

\begin{env}[7.2.3]
\label{env-0.7.2.3}
Let $A$ be an {\em admissible} topological ring, $\mathfrak{J}$ an ideal of $A$
contained in an ideal of definition (in other words \hyperref[prop-0.7.1.4]{(7.1.4)} such that
$(\mathfrak{J}^n)$ tends to $0$); we can consider on $A$ the ring topology
having for a fundamental system of neighborhoods of $0$ the powers
$\mathfrak{J}^n$ ($n>0$); we call again this the {\em $\mathfrak{J}$-pre-adic}
topology. The hypothesis that $A$ is admissible implies that
$\bigcup_n\mathfrak{J}^n=0$, therefore the $\mathfrak{J}$-pre-adic topology on
$A$ is {\em separated}; let $\widehat{A}=\varprojlim A/\mathfrak{J}^n$ be the
completion of $A$ for this topology (where the $A/\mathfrak{J}^n$ are equipped
with the discrete topology), and denote by $u$ the (not necessarily continuous)
ring homomorphism $A\to\widehat{A}$, the projective limit of the sequence of
homomorphisms $u_n:A\to A/\mathfrak{J}^n$. On the other hand, the
$\mathfrak{J}$-pre-adic topology on $A$ is finer than the given topology
$\mathcal{T}$ on $A$; as $A$ is separated and complete for $\mathcal{T}$, we can
extend by continuity the identity map of $A$ (equipped with the
$\mathfrak{J}$-pre-adic topology) to $A$ equipped with $\mathcal{T}$; this
gives a continuous representation $v:\widehat{A}\to A$.
\end{env}

\begin{prop}[7.2.4]
\label{prop-0.7.2.4}
If $A$ is an admissible ring and $\mathfrak{J}$ is contained in an ideal of
definition of $A$, then $A$ is separated and complete for the
$\mathfrak{J}$-pre-adic topology.
\end{prop}

\begin{proof}
\label{proof-prop-0.7.2.4}
With the notations of \hyperref[env-0.7.2.3]{(7.2.3)}, it is immediate that
$v\circ u$ is the identity map of $A$. On the other hand,
$u_n\circ v:\widehat{A}\to A/\mathfrak{J}^n$ is the extension by continuity (for
the $\mathfrak{J}$-pre-adic topology on $A$ and the discrete topology on
$A/\mathfrak{J}^n$) of the canonical map $u_n$; in other words, it is the
canonical map from $\widehat{A}=\varprojlim_k A/\mathfrak{J}^k$ to
$A/\mathfrak{J}^n$; $u\circ v$ is therefore the projective limit of this
sequence of maps, which is by definition the identity map of
$\widehat{A}$; this proves the proposition.
\end{proof}

\begin{cor}[7.2.5]
\label{cor-0.7.2.5}
Under the hypotheses of \hyperref[env-0.7.2.3]{(7.2.3)}, the following conditions are
equivalent:
\begin{itemize}
  \item[{\rm(a)}] the homomorphism $u$ is continuous;
\oldpage{64}
  \item[{\rm(b)}] the homomorphism $v$ is bicontinous;
  \item[{\rm(c)}] $A$ is a $\mathfrak{J}$-adic ring.
\end{itemize}
\end{cor}

\begin{cor}[7.2.6]
\label{cor-0.7.2.6}
Let $A$ be an admissible ring $A$, $\mathfrak{J}$ an ideal of definition for
$A$. For $A$ to be Noetherian, it is necessary and sufficient that
$A/\mathfrak{J}$ is Noetherian and that $\mathfrak{J}/\mathfrak{J}^2$ is an
$(A/\mathfrak{J})$-module of finite type.
\end{cor}

These conditions are evidently necessary. Conversely, suppose the conditions
are satisfied; as according to \hyperref[prop-0.7.2.4]{(7.2.4)} $A$ is complete for the
$\mathfrak{J}$-pre-adic, for it to be Noetherian, it is necessary and sufficient
that the associated graded ring $\grad(A)$ (for the filtration on the
$\mathfrak{J}^n$) is (\cite[p~.18--07, th.~4]{I-1}). Now, let $a_1,\dots,a_n$ be
the elements of $\mathfrak{J}$ whose classes modulo $\mathfrak{J}^2$ are the
generators of $\mathfrak{J}/\mathfrak{J}^2$ as a $(A/\mathfrak{J})$-module. It
is immediate by induction that the classes modulo $\mathfrak{J}^{m+1}$ of the
monomials of total degree $m$ in the $a_i$ ($1\leqslant i\leqslant n$) form a
system of generators for the $(A/\mathfrak{J})$-module
$\mathfrak{J}^m/\mathfrak{J}^{m+1}$. We conclude that $\grad(A)$ is a ring
isomorphic to a quotient of $(A/\mathfrak{J})[T_1,\dots,T_n]$ ($T_i$
indeterminates), which finishes the proof.

\begin{prop}[7.2.7]
\label{prop-0.7.2.7}
Let $(A_i,u_{ij})$ be a projective system $(i\in\bb{N})$ of discrete rings, and
for each integer $i$, let $\mathfrak{J}_i$ be the kernel in $A_i$ of the
homomorphism $u_{0i}:A_i\to A_0$. We suppose that:
\begin{itemize}
  \item[{\rm(a)}] For $i\leqslant j$, $u_{ij}$ is surjective and its kernel is $\mathfrak{J}_j^{i+1}$
    {\em (therefore $A_i$ is isomorphic to $A_j/\mathfrak{J}_j^{i+1}$)}.
  \item[{\rm(b)}] $\mathfrak{J}_1/\mathfrak{J}_1^2$ ($=\mathfrak{J}_1$) is a module of
    finite type over $A_0=A_1/\mathfrak{J}_1$.
\end{itemize}
Let $A=\varprojlim_i A_i$, and for each integer $n\geqslant 0$, let $u_n$ be the
canonical homomorphism $A\to A_n$, and let $\mathfrak{J}^{(n+1)}\subset A$ be
its kernel. Then we have these conditions:
\begin{itemize}
  \item[{\rm(i)}] $A$ is an adic ring, having $\mathfrak{J}=\mathfrak{J}^{(1)}$ for an
    ideal of definition.
  \item[{\rm(ii)}] We have $\mathfrak{J}^{(n)}=\mathfrak{J}^n$ for each $n\geqslant 1$.
  \item[{\rm(iii)}] $\mathfrak{J}/\mathfrak{J}^2$ is isomorphic to
    $\mathfrak{J}_1=\mathfrak{J}_1/\mathfrak{J}_1^2$, and as a result is a module of finite type
    over $A_0=A/\mathfrak{J}$.
\end{itemize}
\end{prop}

\begin{proof}
\label{proof-prop-0.7.2.7}
The hypothesis of surjectivity on the $u_{ij}$ implies that $u_n$ is surjective;
in addition, the hypothesis (a) implies that $\mathfrak{J}_j^{j+1}=0$, therefore
$A$ is an admissible ring \hyperref[lem-0.7.2.2]{(7.2.2)}; by definition, the
$\mathfrak{J}^{(n)}$ form a fundamental system of neighborhoods of $0$ in $A$,
so (ii) implies (i). In addition, we have
$\mathfrak{J}=\varprojlim_i\mathfrak{J}_i$ and the maps
$\mathfrak{J}\to\mathfrak{J}_i$ are surjective, so (ii) implies (iii), and it
remains to prove (ii). By definition, $\mathfrak{J}^{(n)}$ consists of the
elements $(x_k)_{k\geqslant 0}$ of $A$ such that $x_k=0$ for $k<n$, therefore
$\mathfrak{J}^{(n)}\mathfrak{J}^{(m)}\subset\mathfrak{J}^{(n+m)}$, in other
words the $\mathfrak{J}^{(n)}$ form a {\em filtration} of $A$. On the other
hand, $\mathfrak{J}^{(n)}/\mathfrak{J}^{(n+1)}$ is isomorphic to the projection
from $\mathfrak{J}^{(n)}$ to $A_n$; as
$\mathfrak{J}^{(n)}=\varprojlim_{i>n}\mathfrak{J}_i^n$, this projection is none
other than $\mathfrak{J}_n^n$, which is a module over $A_0=A_n/\mathfrak{J}_n$.
Now let $a_j=(a_{jk})_{k\geqslant 0}$ be $r$ elements of
$\mathfrak{J}=\mathfrak{J}^{(1)}$ such that $a_{11},\dots,a_{r1}$ form a system
of generators for $\mathfrak{J}_1$ over $A_0$; we will see that the set $S_n$ of
monomials of total degree $n$ and the $a_j$ generate the ideal
$\mathfrak{J}^{(n)}$ of $A$. As $\mathfrak{J}_i^{i+1}=0$, it is clear first of
all that $S_n\subset\mathfrak{J}^{(n)}$; since $A$ is complete for the
filtration $(\mathfrak{J}^{(m)})$, it suffices to prove that the set
$\overline{S}_n$ of classes modulo $\mathfrak{J}^{(n+1)}$ of elements of $S_n$
generate the graded module $\grad(\mathfrak{J}^{(n)})$ over the graded ring
$\grad(A)$ for the above filtration (\cite[p.~18--06, lemme]{I-1}); according to
the definition of the multiplication on $\grad(A)$,
\oldpage{65}
it suffices to prove that for each $m$, $\overline{S}_m$ is a system of
generators for the $A_0$-module $\mathfrak{J}^{(m)}/\mathfrak{J}^{(m+1)}$, or
that $\mathfrak{J}_m^m$ is generated by the monomials of degree $m$ in the
$a_{jm}$ ($1\leqslant j\leqslant r$). For this, it remains to show that
$\mathfrak{J}_m$ is generated (as an $A_m$-module) by the monomials of degree
$\leqslant m$ relative to $a_{jm}$; the proposition being evident by definition
for $m=1$, we argue by induction on $m$, and let $\mathfrak{J}_m'$ be the
$A_m$-submodule of $\mathfrak{J}_m$ generated by these monomials. The relation
$\mathfrak{J}_{m-1}=\mathfrak{J}_m/\mathfrak{J}_m^m$ and the induction
hypothesis prove that $\mathfrak{J}_m=\mathfrak{J}_m'+\mathfrak{J}_m^m$, hence,
since $\mathfrak{J}_m^{m+1}=0$, we have $\mathfrak{J}_m^m={\mathfrak{J}_m'}^m$,
and finally $\mathfrak{J}_m=\mathfrak{J}_m'$.
\end{proof}

\begin{cor}[7.2.8]
\label{cor-0.7.2.8}
Under the conditions of Proposition \hyperref[prop-0.7.2.7]{(7.2.7)}, for $A$ to
be Noetherian, it is necessary and sufficient that $A_0$ is.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.2.8}
This follows immediately from Corollary \hyperref[cor-0.7.2.6]{(7.2.6)}.
\end{proof}

\begin{prop}[7.2.9]
\label{prop-0.7.2.9}
Suppose the hypotheses of Proposition \hyperref[prop-0.7.2.7]{(7.2.7)}: for each integer $i$,
let $M_i$ be an $A_i$-module, and for $i\leqslant j$, let $v_{ij}:M_j\to M_i$ be a
$u_{ij}$-homomorphism, such that $(M_i,v_{ij})$ is a projective system. In addition, suppose
that $M_0$ is an $A_0$-module of finite type and that the $v_{ij}$ are surjective with kernel
$\mathfrak{J}_j^{i+1}M_j$. Then $M=\varprojlim M_i$ is an $A$-module of finite type, and the
kernel of the surjective $u_n$-homomorphism $v_n:M\to M_n$ is $\mathfrak{J}^{n+1}M$
{\em (such that $M_n$ identifies with
$M/\mathfrak{J}^{n+1}M=M\otimes_A(A/\mathfrak{J}^{n+1})$)}.
\end{prop}

\begin{proof}
\label{proof-prop-0.7.2.9}
Let $z_h=(z_{hk})_{k\geqslant 0}$ be a system of $s$ elements of $M$ such that the $z_{h0}$
($1\leqslant h\leqslant s$) forms a system of generators for $M_0$; we will show that the
$z_h$ generate the $A$-module $M$. The $A$-module $M$ is separated and complete for the
filtration by the $M^{(n)}$, where $M^{(n)}$ is the set of $y=(y_k)_{k\geqslant 0}$ in $M$
such that $y_k=0$ for $k<n$; it is clear that we have $\mathfrak{J}^{(n)}M\subset M^{(n)}$
and that $M^{(n)}/M^{(n+1)}=\mathfrak{J}_n^n M_n$. We therefore have reduced to showing that
the classes of the $z_h$ modulo $M^{(0)}$ generate the graded module $\grad(M)$ (by the
above filtration) over the graded ring $\grad(A)$ \cite[p. 18--06, lemme]{I-1}; for this, we
observe that it suffices to ptove that the $z_{hn}$ ($1\leqslant h\leqslant s$) generate the
$A_n$-module $M_n$. We argue by induction on $n$, the proposition being evident by definition
for $n=0$; the relation $M_{n-1}=M_n/\mathfrak{J}_n^n M_n$ and the induction hypothesis show
that if $M_n'$ is the submodule of $M_n$ generated by the $z_{hn}$, we have that
$M_n=M_n'+\mathfrak{J}_n^n M_n$, and as $\mathfrak{J}_n$ is nilpotent, this implies that
$M_n=M_n'$. Similarly, passing to the associated graded modules shows that the canonical map
from $\mathfrak{J}^{(n)}$ to $M^{(n)}$ is surjective (thus bijection), in other words that
$\mathfrak{J}^{(n)}M=\mathfrak{J}^n M$ is the kernel of $M\to M_{n-1}$.
\end{proof}

\begin{cor}[7.2.10]
\label{cor-0.7.2.10}
Let $(N_i,w_{ij})$ be a second projective system of $A_i$-modules satisfying the conditions
of Proposition \hyperref[prop-0.7.2.9]{(7.2.9)}, and let $N=\varprojlim N_i$. There is a
bijective correspondence between the projective systems $(h_i)$ of $A_i$-homomorphisms
$h_i:M_i\to N_i$ and the homomomorphisms of $A$-modules $h:M\to N$ (which is necessarily
continuous for the $\mathfrak{J}$-adic topologies).
\end{cor}

\begin{proof}
\label{proof-cor-0.7.2.10}
It is clear that if $h:M\to N$ is an $A$-homomorphism, then we have
$h(\mathfrak{J}^n M)\subset\mathfrak{J}^n N$, hence the continuity of $h$; by passing to
quotients, there corresponds to $h$ a projective system of $A_i$-homomorphisms
$h_i:M_i\to N_i$, whose projective limit is $h$, hence the corollary.
\end{proof}

\begin{rmk}[7.2.11]
\label{rmk-0.7.2.11}
Let $A$ be an adic ring with an ideal of definition $\mathfrak{J}$ such that
$\mathfrak{J}/\mathfrak{J}^2$ is an $(A/\mathfrak{J})$-module of finite type; it is clear
that the $A_i=A/\mathfrak{J}^{i+1}$ satisfy
\oldpage{66}
the conditions of Proposition \hyperref[prop-0.7.2.7]{(7.2.7)}; as $A$ is the projective
limit of the $A_i$, we see that Proposition \hyperref[prop-0.7.2.7]{(7.2.7)} gives the
description of {\em all} the adic rings of the type considered (and in particular of all
the {\em adic Noetherian} rings).
\end{rmk}

\begin{exm}[7.2.12]
\label{exm-0.7.2.12}
Let $B$ be a ring, $\mathfrak{J}$ an ideal of $B$ such that $\mathfrak{J}/\mathfrak{J}^2$ is
a module of finite type over $B/\mathfrak{J}$ (or over $B$, equivalently); set
$A=\varprojlim_n B/\mathfrak{J}^{n+1}$; $A$ is the separated completion of $B$ equipped with
the $\mathfrak{J}$-pre-adic topology. If $A_n=B/\mathfrak{J}^{n+1}$, then it is immediate
that the $A_n$ satisfy the conditions of Proposition \hyperref[prop-0.7.2.7]{(7.2.7)};
therefore $A$ is an adic ring and if $\overline{\mathfrak{J}}$ is the closure in $A$ of the
canonical image of $\mathfrak{J}$, then $\overline{\mathfrak{J}}$ is an ideal of definition
for $A$, $\overline{\mathfrak{J}^n}$ is the closure of the canonical image of
$\mathfrak{J}^n$, $A/\overline{\mathfrak{J}^n}$ identifies with $B/\mathfrak{J}^n$ and
$\overline{\mathfrak{J}}/\overline{\mathfrak{J}^2}$ is isomorphic to
$\mathfrak{J}/\mathfrak{J}^2$ as an $(A/\overline{\mathfrak{J}})$-module. Similarly, if $N$
is such that $N/\mathfrak{J}N$ is a $B$-module of finite type, and if we set
$M_i=N/\mathfrak{J}^{i+1}N$, then $M=\varprojlim M_i$ is an $A$-module of finite type,
isomorphic to the separated completion of $N$ for the $\mathfrak{J}$-pre-adic topology, and
$\overline{\mathfrak{J}^n}M$ identifies with the closure of the canonical image of
$\mathfrak{J}^n N$, and $M/\overline{\mathfrak{J}^n}M$ identifies with
$N/\mathfrak{J}^n N$.
\end{exm}

\subsection{Pre-adic Noetherian rings}
\label{subsection-pre-adic-noetherian-rings}

\begin{env}[7.3.1]
\label{env-0.7.3.1}
Let $A$ be a ring, $\mathfrak{J}$ an ideal of $A$, and $M$ an $A$-module; we denote by
$\widehat{A}=\varprojlim_n A/\mathfrak{J}^n$
(resp. $\widehat{M}=\varprojlim_n M/\mathfrak{J}^n M$) the separated completion of $A$
(resp. $M$) for the $\mathfrak{J}$-pre-adic topology. Let
$M'\xrightarrow{u}M\xrightarrow{v}M''\to 0$ be an exact sequence of $A$-modules; as
$M/\mathfrak{J}^n M=M\otimes_A(A/\mathfrak{J}^n)$, the sequence
\[
  M'/\mathfrak{J}^n M'\xrightarrow{u_n}M/\mathfrak{J}^n M
  \xrightarrow{v_n}M''/\mathfrak{J}^n M''\longrightarrow 0
\]
is exact for each $n$. In addition, as
$v(\mathfrak{J}^n M)=\mathfrak{J}^n v(M)=\mathfrak{J}^n M''$,
$\widehat{v}=\varprojlim v_n$ is surjective (Bourbaki, {\em Top. g\'en.}, Chap.~IX,
2nd ed., p.~60, Cor.~2). On the other hand, if $z=(z_k)$ is an element of the kernel of
$\widehat{v}$, then for each integer $k$, there exists a $z_k'\in M'/\mathfrak{J}^k M'$
such that $u_k(z_k')=z_k$; we conclude that there exists  a $z'=(z_n')\in\widehat{M'}$
such that the first $k$ components of $\widehat{u}(z')$ coincide with the $z$; in other
words, the image of $\widehat{M'}$ under $\widehat{u}$ is {\em dense} in the kernel of
$\widehat{v}$.

If we suppose that $A$ is {\em Noetherian}, then so is $\widehat{A}$, according to
\hyperref[exm-0.7.2.12]{(7.2.12)}, $\mathfrak{J}/\mathfrak{J}^2$ is then an $A$-module of
finite type. In addition, we have the following theorem.
\end{env}

\begin{thm}[7.3.2]
\label{thm-0.7.3.2}
{\em (Krull's Theorem)}. Let $A$ be a {\em Noetherian} ring, $\mathfrak{J}$ an ideal of
$A$, $M$ an $A$-module {\em of finite type}, and $M'$ a submodule of $M$; then the induced
topology on $M'$ by the $\mathfrak{J}$-pre-adic topology of $M$ is identical to the
$\mathfrak{J}$-pre-adic topology of $M'$.
\end{thm}

This follows immediately from
\begin{lem}[7.3.2.1]
\label{lem-0.7.3.2.1}
{\em (Artin--Rees Lemma)}. Under the hypotheses of \hyperref[thm-0.7.3.2]{(7.3.2)}, there
exists an integer $p$ such that, for $n\geqslant p$, we have
\[
  M'\cap\mathfrak{J}^n M=\mathfrak{J}^{n-p}(M'\cap\mathfrak{J}^p M).
\]
\end{lem}

For the proof, see \cite[p.~2--04]{I-1}.

\begin{cor}[7.3.3]
\label{cor-0.7.3.3}
\oldpage{67}
Under the hypotheses of \hyperref[thm-0.7.3.2]{(7.3.2)}, the canonical map
$M\otimes_A\widehat{A}\to\widehat{M}$ is bijective, and the functor $M\otimes_A\widehat{A}$
is exact in $M$ on the category of $A$-modules of finite type; as a result, the separated
$\mathfrak{J}$-adic completion $\widehat{A}$ is a flat $A$-module
\hyperref[env-0.6.1.1]{(6.1.1)}.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.3.3}
We first note that $\widehat{M}$ is an {\em exact} functor in $M$ on the category of
$A$-modules of finite type. Indeed, let $0\to M'\xrightarrow{u}M\xrightarrow{v}M''\to 0$ be
an exact sequence; we have seen that $\widehat{v}:\widehat{M}\to\widehat{M''}$ is surjective
\hyperref[env-0.7.3.1]{(7.3.1)}; on the other hand, if $i$ is the canonical homomorphism
$M\to\widehat{M}$, it follows from Krull's Theorem \hyperref[thm-0.7.3.2]{(7.3.2)} that the
closure of $i(u(M'))$ in $\widehat{M}$ identifies with the separated completion of $M'$ for
the $\mathfrak{J}$-pre-adic topology; thus $\widehat{u}$ is injective, and according to
\hyperref[env-0.7.3.1]{(7.3.1)}, the image of $\widehat{u}$ is equal to the kernel of
$\widehat{v}$.

This being so, the canonical map $M\otimes_A\widehat{A}\to\widehat{M}$ is obtained by passing
to the projective limit of the maps
$M\otimes_A\widehat{A}\to M\otimes_A(A/\mathfrak{J}^n)=M/\mathfrak{J}^n M$. It is clear that
this map is bijective when $M$ is of the form $A^p$. If $M$ is an $A$-module of finite type,
then we have an exact sequence $A^p\to A^q\to M\to 0$, hence, by virtue of the {\em right}
exactness of the functors $M\otimes_A\widehat{A}$ and $\widehat{M}$ (in $M$) on the category
of $A$-modules of finite type, we have the commutative diagram
\[
  \xymatrix{
    A^p\otimes_A\widehat{A}\ar[r]\ar[d] &
    A^q\otimes_A\widehat{A}\ar[r]\ar[d] &
    M\otimes_A\widehat{A}\ar[r]\ar[d] &
    0\\
    \widehat{A^p}\ar[r] &
    \widehat{A^q}\ar[r] &
    \widehat{M}\ar[r] &
    0,
  }
\]
where the two rows are exact and the first two vertical arrows are isomorphisms; this
immediately finishes the proof.
\end{proof}

\begin{cor}[7.3.4]
\label{cor-0.7.3.4}
Let $A$ be a Noetherian ring, $\mathfrak{J}$ an ideal of $A$, $M$ and $N$ two $A$-modules of
finite type; we have the canonical functorial isomorphisms
\[
  (M\otimes_A N)^\wedge\isoto\widehat{M}\otimes_{\widehat{A}}\widehat{N},
  \quad
  (\Hom_A(M,N))^\wedge\isoto\Hom_{\widehat{A}}(\widehat{M},\widehat{N}).
\]
\end{cor}

\begin{proof}
\label{proof-cor-0.7.3.4}
This follows from Corollary \hyperref[cor-0.7.3.3]{(7.3.3)}, \hyperref[env-0.6.2.1]{(6.2.1)},
and \hyperref[env-0.6.2.2]{(6.2.2)}.
\end{proof}

\begin{cor}[7.3.5]
\label{cor-0.7.3.5}
Let $A$ be a Noetherian ring, $\mathfrak{J}$ an ideal of $A$. The following conditions are
equivalent:
\begin{itemize}
  \item[{\rm(a)}] $\mathfrak{J}$ is contained in the radical of $A$.
  \item[{\rm(b)}] $\widehat{A}$ is a faithfully flat $A$-module \hyperref[env-0.6.4.1]{(6.4.1)}.
  \item[{\rm(c)}] Each $A$-module of finite type is separated for the $\mathfrak{J}$-pre-adic topology.
  \item[{\rm(d)}] Each submodule of an $A$-module of finite type is closed for the
    $\mathfrak{J}$-pre-adic topology.
\end{itemize}
\end{cor}

\begin{proof}
\label{proof-cor-0.7.3.5}
As $\widehat{A}$ is a flat $A$-module, the conditions (b) and (c) are equivalent, since
(b) is equivalent to saying that if $M$ is an $A$-module of finite type, then the canonical
map $M\to\widehat{M}=M\otimes_A\widehat{A}$ is injective \hyperref[env-0.6.6.1]{(6.6.1)}, (c).
It is immediate that (c) implies (d), since if $N$ is a submodule of an $A$-module $M$ of
finite type, then $M/N$ is separated for the $\mathfrak{J}$-pre-adic topology, so $N$ is
closed in $M$. We show that (d) implies (a): if $\mathfrak{m}$ is a maximal ideal of $A$,
then $\mathfrak{m}$ is closed in $A$ for the $\mathfrak{J}$-pre-adic topology, so
$\mathfrak{m}=\bigcap_{p\geqslant 0}(\mathfrak{m}+\mathfrak{J}^p)$, and as
$\mathfrak{m}+\mathfrak{J}^p$ is necessarily equal to $A$ or to $\mathfrak{m}$, we have that
$\mathfrak{m}+\mathfrak{J}^p=\mathfrak{m}$ for large enough $p$,
\oldpage{68}
hence $\mathfrak{J}^p\subset\mathfrak{m}$, and $\mathfrak{J}\subset\mathfrak{m}$ when
$\mathfrak{m}$ is prime. Finally, (a) implies (b): indeed, let $P$ be the closure of $\{0\}$
in an $A$-module $M$ of finite type, for the $\mathfrak{J}$-pre-adic topology; according to
Krull's Theorem \hyperref[thm-0.7.3.2]{(7.3.2)}, the topology induced on $P$ by the
$\mathfrak{J}$-pre-adic topology of $M$ is the $\mathfrak{J}$-pre-adic topology of $P$,
so $\mathfrak{J}P=P$; as $P$ is of finite type, it follows from Nakayama's Lemma that
$P=0$ ($\mathfrak{J}$ being contained in the radical of $A$).
\end{proof}

We note that the conditions of Corollary \hyperref[cor-0.7.3.5]{(7.3.5)} are satisfied
when $A$ is a {\em local Noetherian ring} and $\mathfrak{J}\neq A$ is any ideal of $A$.

\begin{cor}[7.3.6]
\label{cor-0.7.3.6}
If $A$ is a $\mathfrak{J}$-pre-adic Noetherian ring, then each $A$-module of finite type
is separated and complete for the $\mathfrak{J}$-pre-adic topology.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.3.6}
As we then have $\widehat{A}=A$, this follows immediately from
Corollary \hyperref[cor-0.7.3.3]{(7.3.3)}.
\end{proof}

We conclude that Proposition \hyperref[prop-0.7.2.9]{(7.2.9)} gives the description of
{\em all} the modules of finite type over an adic Noetherian ring.

\begin{cor}[7.3.7]
\label{cor-0.7.3.7}
Under the hypotheses of \hyperref[thm-0.7.3.2]{(7.3.2)}, the kernel of the canonical map
$M\to\widehat{M}=M\otimes_A\widehat{A}$ is the set of the $x\in M$ killed by an element of
$1+\mathfrak{J}$.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.3.7}
For each $x\in M$ in this kernel, it is necessary and sufficient that the separated
completion of the submodule $Ax$ is $0$
(by Krull's Theorem \hyperref[thm-0.7.3.2]{(7.3.2)}), in other words, that
$x\in\mathfrak{J}x$.
\end{proof}

\subsection{Quasi-finite modules over local rings}
\label{subsection-quasi-finite-modules-over-local-rings}

\begin{defn}[7.4.1]
\label{defn-0.7.4.1}
Given a local ring $A$, with maximal ideal $\mathfrak{m}$, we say that an $A$-module $M$
is quasi-finite (over $A$) if $M/\mathfrak{m}M$ is of finite rank over the residue field
$k=A/\mathfrak{m}$.
\end{defn}

When $A$ is {\em Noetherian}, the separated completion $\widehat{M}$ of $M$ for the
$\mathfrak{m}$-pre-adic topology is then an {\em $\widehat{A}$-module of finite type};
indeed, as $\mathfrak{m}/\mathfrak{m}^2$ is then an $A$-module of finite type, this follows
from Example \hyperref[exm-0.7.2.12]{(7.2.12)} and from the hypothesis on $M/\mathfrak{m}M$.

In particular, if we suppose that in addition $A$ is {\em complete} and $M$ is
{\em separated} for the $\mathfrak{m}$-pre-adic topology (in other words,
$\bigcap_n\mathfrak{m}^n M=0$), then $M$ is also an {\em $A$-module of finite type}: indeed,
$\widehat{M}$ is then an $A$-module of finite type, and as $M$ identifies with a submodule of
$\widehat{M}$, $M$ is also of finite type (and is indeed identical to its completion
according to Corollary \hyperref[cor-0.7.3.6]{(7.3.6)}).

\begin{prop}[7.4.2]
\label{prop-0.7.4.2}
Let $A$, $B$ be two local rings, $\mathfrak{m}$, $\mathfrak{n}$ their maximal ideals, and
suppose that $B$ is Noetherian. Let $\vphi:A\to B$ be a local homomorphism, $M$ a $B$-module
of finite type. If $M$ is a quasi-finite $A$-module, then the $\mathfrak{m}$-pre-adic and
$\mathfrak{n}$-pre-adic topologies on $M$ are identical, thus separated.
\end{prop}

\begin{proof}
\label{proof-prop-0.7.4.2}
We note that by hypothesis $M/\mathfrak{m}M$ is of {\em finite length} as an $A$-module,
thus also {\em a fortiori} as a $B$-module. We conclude that $\mathfrak{n}$ is the
{\em unique prime ideal} of $B$ containing the annihilator of $M/\mathfrak{m}M$: indeed, we
immediately reduce (according to \hyperref[env-0.1.7.4]{(1.7.4)} and
\hyperref[env-0.1.7.2]{(1.7.2)}) to the case where $M/\mathfrak{m}M$ is {\em simple}, thus
necessarily isomorphic to $B/\mathfrak{n}$, and our assertion is evident in this case. On
the other hand, as $M$ is a $B$-module of finite type, the prime ideals which contain the
annihilator of $M/\mathfrak{m}M$ are those which contain $\mathfrak{m}B+\mathfrak{b}$, where
we denote by $\mathfrak{b}$ the annihilator of the $B$-module $M$
\hyperref[env-0.1.7.5]{(1.7.5)}. As $B$ is Noetherian, we conclude
(\cite[p.~127, Cor.~4]{I-11}) that $\mathfrak{m}B+\mathfrak{b}$ is an ideal
\oldpage{69}
of definition for $B$, in other words there exists a $k>0$ such that
$\mathfrak{n}^k\subset\mathfrak{m}B+\mathfrak{b}\subset\mathfrak{n}$; as a result, for each
$h>0$, we have
\[
  \mathfrak{n}^{hk}\subset(\mathfrak{m}B+\mathfrak{b})^h M
  =\mathfrak{m}^h M\subset\mathfrak{n}^h M,
\]
which proves that the $\mathfrak{m}$-pre-adic and $\mathfrak{n}$-pre-adic topologies on $M$
are the same; the second is separated according to Corollary \hyperref[cor-0.7.3.5]{(7.3.5)}.
\end{proof}

\begin{cor}[7.4.3]
\label{cor-0.7.4.3}
Under the hypotheses of Proposition \hyperref[prop-0.7.2.4]{(7.2.4)}, if in addition $A$ is
Noetherian and complete for the $\mathfrak{m}$-pre-adic topology, then $M$ is an $A$-module
of finite type.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.4.3}
Indeed, $M$ is then separated for the $\mathfrak{m}$-pre-adic topology, and our assertion
follows from the remark after Definition \hyperref[defn-0.7.4.1]{(7.4.1)}.
\end{proof}

\begin{env}[7.4.4]
\label{env-0.7.4.4}
The most important case of Proposition \hyperref[prop-0.7.4.2]{(7.4.2)} is when $B$ is a
quasi-finite $A$-module, i.e., $B/\mathfrak{m}B$ is an {\em algebra of finite rank over
$k=A/\mathfrak{m}$}; furthermore, this condition can be broken down into the combination
of the following:
\begin{itemize}
  \item[(i)] {\em $\mathfrak{m}B$ is an ideal of definition for $B$};
  \item[(ii)] {\em $B/\mathfrak{n}$ is an extension of finite rank of the field $A/\mathfrak{m}$}.
\end{itemize}
When this is so, every $B$-module of finite type is evidently a quasi-finite $A$-module.
\end{env}

\begin{cor}[7.4.5]
\label{cor-0.7.4.5}
Under the hypotheses of Proposition \hyperref[prop-0.7.4.2]{(7.4.2)}, if
$\mathfrak{b}$ is the annihilator of the $B$-module $M$, then $B/\mathfrak{b}$ is a
quasi-finite $A$-module.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.4.5}
Suppose $M\neq 0$ (otherwise the corollary is evident). We can consider $M$ as a
module over the local Noetherian ring $B/\mathfrak{b}$; its annihilator then being
$0$, the proof of Proposition \hyperref[prop-0.7.4.2]{(7.4.2)} shows that
$\mathfrak{m}(B/\mathfrak{b})$ is an ideal of definition for $B/\mathfrak{b}$.
On the other hand, $M/\mathfrak{n}M$ is a vector space of finite rank over
$A/\mathfrak{m}$, being a quotient of $M/\mathfrak{m}M$, which is by hypothesis of
finite rank over $A/\mathfrak{m}$; as $M\neq 0$, we have $M\neq\mathfrak{n}M$ by
virtue of Nakayama's Lemma; as $M/\mathfrak{n}M$ is a vector space $\neq 0$ over
$B/\mathfrak{n}$, the fact that it is of finite rank over $A/\mathfrak{m}$ implies
that $B/\mathfrak{n}$ is also of finite rank over $A/\mathfrak{m}$; the conclusion
follows from \hyperref[env-0.7.4.4]{(7.4.4)} applied to the ring $B/\mathfrak{b}$.
\end{proof}

\subsection{Rings of restricted formal series}
\label{subsection-rings-of-restricted-formal-series}

\begin{env}[7.5.1]
\label{env-0.7.5.1}
Let $A$ be a topological ring, linearly topologized, separated and complete; let
$(\mathfrak{J}_\lambda)$ be a fundamental system of neighborhoods of $0$ in $A$
consisting of (open) ideals, such that $A$ canonically identifies with
$\varprojlim A/\mathfrak{J}_\lambda$ \hyperref[env-0.7.2.1]{(7.2.1)}. For each
$\lambda$, let $B_\lambda=(A/\mathfrak{J}_\lambda)[T_1,\dots,T_r]$, where the
$T_i$ are indeterminates; it is clear that the $B_\lambda$ form a projective system
of discrete rings. We set $\varprojlim B_\lambda=A\{T_1,\dots,T_r\}$, and we will
see that this topological ring is independent of the fundamental system of ideals
$(\mathfrak{J}_\lambda)$ considered. More precisely, let $A'$ be the subring of the
ring of formal series $A[\![T_1,\dots,T_r]\!]$ consisting of formal series
$\sum_\alpha c_\alpha T^\alpha$ (with $\alpha=(\alpha_1,\dots,\alpha_r)\in\bb{N}^r$)
such that $\lim c_\alpha=0$ (according to the filter by compliments of finite subsets
of $\bb{N}^r$); we say that these series are the {\em restricted} formal series in the
$T_i$, with coefficients in $A$.
\oldpage{70}
For each neighborhood $V$ of $0$ in $A$, let $V'$ be the set of
$x=\sum_\alpha c_\alpha T^\alpha\in A'$ such that $c_\alpha\in V$ for all $\alpha$.
We verify immediately that the $V'$ form a fundamental system of neighborhoods of $0$
defining on $A'$ a {\em separated} ring topology; we will canonically define a
{\em topological isomorphism} from the ring $A\{T_1,\dots,T_r\}$ to $A'$. For each
$\alpha\in\bb{N}^r$ and each $\lambda$, let $\vphi_{\lambda,\alpha}$ be the map from
$(A/\mathfrak{J}_\lambda)[T_1,\dots,T_r]$ to $A/\mathfrak{J}\lambda$ which sends each
polynomial in the first ring to coefficient of $T^\alpha$ in that polynomial. It is
clear that the $\vphi_{\lambda,\alpha}$ form a projective system of homomorphisms of
$(A/\mathfrak{J}_\lambda)$-modules, so their projective limit is a continuous
homomorphism $\vphi_\alpha:A\{T_1,\dots,T_r\}\to A$; we will see that, for each
$y\in A\{T_1,\dots,T_r\}$, the formal series $\sum_\alpha\vphi_\alpha(y)T^\alpha$ is
{\em restricted}. Indeed, if $y_\lambda$ is the component of $y$ in $B_\lambda$, and
if we denote by $H_\lambda$ the finite set of the $\alpha\in\bb{N}^r$ for which the
coefficients of the polynomial $y_\lambda$ are nonzero, then we have
$\vphi_{\lambda,\alpha}(y_\mu)\in\mathfrak{J}_\lambda$ for
$\mathfrak{J}_\mu\subset\mathfrak{J}_\lambda$ and $\alpha\not\in H_\lambda$, and by
passing to the limit, $\vphi_\alpha(y)\in\mathfrak{J}_\lambda$ for
$\alpha\not\in H_\lambda$. We thus define a ring homomorphism
$\vphi:A\{T_1,\dots,T_r\}\to A'$ by setting
$\vphi(y)=\sum_\alpha\vphi_\alpha(y)T^\alpha$, and it is immediate that $\vphi$ is
continuous. Conversely, if $\theta_\lambda$ is the canonical homomorphism
$A\to A/\mathfrak{J}_\lambda$, then for each element
$z=\sum_\alpha c_\alpha T^\alpha\in A'$ and each $\lambda$, there are only a finite
number of indices $\alpha$ such that $\theta_\lambda(c_\alpha)\neq 0$, and as a
result $\psi_\lambda(z)=\sum_\alpha\theta_\lambda(c_\alpha)T^\alpha$ is in
$B_\lambda$; the $\psi_\lambda$ are continuous and form a projective system of
homomorphisms whose projective limit is a continuous homomorphism
$\psi:A'\to A\{T_1,\dots,T_r\}$; is remains to verify that $\vphi\circ\psi$ and
$\psi\circ\vphi$ are the identity automorphisms, which is immediate.
\end{env}

\begin{env}[7.5.2]
\label{env-0.7.5.2}
We identify $A\{T_1,\dots,T_r\}$ with the ring $A'$ of restricted formal series by
means of the isomorphisms defined in \hyperref[env-0.7.5.1]{(7.5.1)}. The canonical
isomorphisms
\[
  ((A/\mathfrak{J}_\lambda)[T_1,\dots,T_r])[T_{r+1},\dots,T_s]
  \isoto(A/\mathfrak{J}_\lambda)[T_1,\dots,T_s]
\]
define, by passing to the projective limit, a canonical isomorphism
\[
  (A\{T_1,\dots,T_r\})\{T_{r+1},\dots,T_s\}
  \isoto A\{T_1,\dots,T_s\}.
\]
\end{env}

\begin{env}[7.5.3]
\label{env-0.7.5.3}
For every continuous homomorphism $u:A\to B$ from $A$ to a linearly topologized ring
$B$, separated and complete, and each system $(b_1,\dots,b_r)$ of $r$ elements of $B$,
there exists {\em a unique continuous homomorphism $\overline{u}:A\{T_1,\dots,T_r\}\to B$},
such that $\overline{u}(a)=u(a)$ for all $a\in A$ and $\overline{u}(T_j)=b_j$ for
$1\leqslant j\leqslant r$. It suffices to set
\[
  \overline{u}\big(\sum_\alpha c_\alpha T^\alpha\big)
  =\sum_\alpha u(c_\alpha)b_1^{\alpha_1}\cdots b_r^{\alpha_r};
\]
the verification of the fact that the family $(u(c_\alpha)b_1^{\alpha_1}\cdots b_r^{\alpha_r})$
is summable in $B$ and that $\overline{u}$ is continuous are immediate and left to the
reader. We note that this property (for arbitrary $B$ and $b_j$) {\em characterize} the
topological ring $A\{T_1,\dots,T_r\}$ up to unique isomorphism.
\end{env}

\begin{prop}[7.5.4]
\label{prop-0.7.5.4}
\medskip\noindent
\begin{itemize}
  \item[{\rm(i)}] If $A$ is an admissible ring, then so is $A'=A\{T_1,\dots,T_r\}$.
  \item[{\rm(ii)}] Let $A$ be an adic ring, $\mathfrak{J}$ an ideal of definition for
    $A$ such that $\mathfrak{J}/\mathfrak{J}^2$ is of finite type
\oldpage{71}
    over $A/\mathfrak{J}$. If we set $\mathfrak{J}'=\mathfrak{J}A'$, then $A'$ is also a
    $\mathfrak{J}'$-adic ring, and $\mathfrak{J}'/{\mathfrak{J}'}^2$ is of finite type over
    $A'/\mathfrak{J}'$. If in addition $A$ is Noetherian, then so is $A'$.
\end{itemize}
\end{prop}

\begin{proof}
\label{proof-prop-0.7.5.4}
\medskip\noindent
\begin{itemize}
  \item[(i)] If $\mathfrak{J}$ is an ideal of $A$, $\mathfrak{J}'$ the ideal of $A'$
    consisting of the $\sum_\alpha c_\alpha T^\alpha$ such that $c_\alpha\in\mathfrak{J}$
    for all $\alpha$, then $(\mathfrak{J}')^n\subset(\mathfrak{J}^n)'$; if $\mathfrak{J}$
    is an ideal of definition for $A$, then $\mathfrak{J}'$ is also an ideal of definition
    for $A'$.
  \item[(ii)] Set $A_i=A/\mathfrak{J}^{i+1}$, and for $i\leqslant j$, let $u_{ij}$ be the
    canonical homomorphism $A/\mathfrak{J}^{j+1}\to A/\mathfrak{J}^{i+1}$; set
    $A_i'=A_i[T_1,\dots,T_r]$, and let $u_{ij}'$ be the homomorphism $A_j'\to A_i'$
    ($i\leqslant j$) obtained by applying $u_{ij}$ to the coefficients of the polynomials
    in $A_j'$. We will show that the projective system $(A_i',u_{ij}')$ satisfies the conditions
    of Proposition \hyperref[prop-0.7.2.7]{(7.2.7)}; as $\mathfrak{J}'$ is the kernel of
    $A'\to A_0'$, this proves the first assertion of (ii). It is clear that the $u_{ij}'$ are
    surjective; the kernel $\mathfrak{J}_i'$ of $u_{0i}$ is the set of polynomials in
    $A_i[T_1,\dots,T_r]$ whose coefficients are in $\mathfrak{J}/\mathfrak{J}^{i+1}$; in
    particular, $\mathfrak{J}_1'$ is the set of polynomials in $A_1[T_1,\dots,T_r]$ whose
    coefficients are in $\mathfrak{J}/\mathfrak{J}^2$. As $\mathfrak{J}/\mathfrak{J}^2$ is
    of finite type over $A_1=A/\mathfrak{J}^2$, we see that $\mathfrak{J}_1'/{\mathfrak{J}_1'}^2$
    is a module of finite type over $A_1'$ (or equivalently, over $A_0'=A_1'/\mathfrak{J}_1'$).
    We will now show that the kernel of $u_{ij}$ is ${\mathfrak{J}_j'}^{i+1}$. It is evident that
    ${\mathfrak{J}_j'}^{i+1}$ is contained in this kernel. On the other hand, let $a_1,\dots,a_m$
    be the elements of $\mathfrak{J}$ whose classes mod $\mathfrak{J}^2$ generate
    $\mathfrak{J}/\mathfrak{J}^2$; we verify immediately that the classes mod $\mathfrak{J}^{j+1}$
    of monomials of degree $\leqslant j$ in the $a_k$ ($1\leqslant k\leqslant m$) generate
    $\mathfrak{J}/\mathfrak{J}^{j+1}$, and the classes of monomials of degree $>i$ and
    $\leqslant j$ generate $\mathfrak{J}^{i+1}/\mathfrak{J}^{j+1}$; a monomial in the $T_k$
    having such an element for a coefficient is thus a product of $i+1$ elements of
    $\mathfrak{J}_i'$, which establishes our assertion. Finally, if $A$ is Noetherian, then so
    is $A'/\mathfrak{J}'=(A/\mathfrak{J})[T_1,\dots,T_r]$, hence $A'$ is Notherian
    \hyperref[cor-0.7.2.8]{(7.2.8)}.
\end{itemize}
\end{proof}

\begin{prop}[7.5.5]
\label{prop-0.7.5.5}
Let $A$ be a Notherian $\mathfrak{J}$-adic ring, $B$ an admissible topological ring,
$\vphi:A\to B$ a continuous homomorphism, making $B$ and $A$-algebra. The following
conditions are equivalent:
\begin{itemize}
  \item[{\rm(a)}] $B$ is Noetherian and $\mathfrak{J}B$-adic, and $B/\mathfrak{J}B$ is an
    algebra of finite type over $A/\mathfrak{J}$.
  \item[{\rm(b)}] $B$ is topologically $A$-isomorphic to $\varprojlim B_n$, where
    $B_n=B_m/\mathfrak{J}^{n+1}B_m$ for $m\geqslant n$, and $B_1$ is an algebra of finite
    type over $A_1=A/\mathfrak{J}^2$.
  \item[{\rm(c)}] $B$ is topologically $A$-isomorphic to a quotient of an algebra of the form
    $A\{T_1,\dots,T_r\}$ by an ideal (necessarily closed according to
    Corollary \hyperref[cor-0.7.3.6]{(7.3.6)} and Proposition \hyperref[prop-0.7.5.4]{(7.5.4, ii)}).
\end{itemize}
\end{prop}

\begin{proof}
\label{proof-prop-0.7.5.5}
As $A$ is Noetherian, so is $A'=A\{T_1,\dots,T_r\}$ \hyperref[prop-0.7.5.4]{(7.5.4)}, so
(c) implies that $B$ is Noetherian; as $\mathfrak{J}'=\mathfrak{J}A'$ is an open neighborhood
of $0$ in $A'$ such that the ${\mathfrak{J}'}^n$ form a fundamental system of neighborhoods of
$0$, the images $\mathfrak{J}^n B$ of the ${\mathfrak{J}'}^n$ form a fundamental system of
neighborhoods of $0$ in $B$, and as $B$ is separated and complete, $B$ is a $\mathfrak{J}B$-adic
ring. Finally, $B/\mathfrak{J}B$ is an algebra (over $(A/\mathfrak{J}$) quotient of
$A'/\mathfrak{J}A'=(A/\mathfrak{J})[T_1,\dots,T_r]$, so it is of finite type, which proves that
(c) implies (a).

If $B$ is $\mathfrak{J}B$-adic and Noetherian, then $B$ is isomorphic to $\varprojlim B_n$, where
$B_n=B/\mathfrak{J}^{n+1}B$ \hyperref[rmk-0.7.2.11]{(7.2.11)}, and $\mathfrak{J}B/\mathfrak{J}^2 B$
is a module of finite type over $B/\mathfrak{J}B$. Let $(a_j)_{1\leqslant j\leqslant s}$ be a
system of generators for the $(B/\mathfrak{J}B)$-module $\mathfrak{J}B/\mathfrak{J}^2 B$, and let
$(c_i)_{1\leqslant i\leqslant r}$ be a system of elements of $B/\mathfrak{J}^2 B$ such that the
classes
\oldpage{72}
mod $\mathfrak{J}B/\mathfrak{J}^2 B$ form a system of generators for the $(A/\mathfrak{J})$-algebra
$B/\mathfrak{J}B$; we see immediately that the $c_i a_j$ form a system of generators for the
$(A/\mathfrak{J}^2)$-algebra $B/\mathfrak{J}^2 B$, hence (a) implies (b).

It remains to prove that (b) implies (c). The hypotheses imply that $B_1$ is a Noetherian ring, and
as $B_1=B_2/\mathfrak{J}^2 B_2$, we have $\mathfrak{J}^2 B_1=0$, hence
$\mathfrak{J}B_1=\mathfrak{J}B_1/\mathfrak{J}^2 B_1$ is a $B_0$-module of finite type. The
conditions of Proposition \hyperref[prop-0.7.2.7]{(7.2.7)} are thus satisfied by the projective
system $(B_n)$ and $B$ is a $\mathfrak{J}B$-adic ring. Let $(c_i)_{1\leqslant i\leqslant r}$ be a
finite system of elements of $B$ whose classes mod $\mathfrak{J}B$ generate the
$(A/\mathfrak{J})$-algebra $B/\mathfrak{J}B$, and whose linear combinations with coefficients in
$\mathfrak{J}$ are such that their classes mod $\mathfrak{J}^2 B$ generate the $B_0$-module
$\mathfrak{J}B/\mathfrak{J}^2 B$. There exists a continuous $A$-homomorphism $u$ from
$A'=A\{T_1,\dots,T_r\}$ to $B$ which reduces to $\vphi$ on $A$ and is such that $u(T_i)=c_i$ for
$1\leqslant i\leqslant r$ \hyperref[env-0.7.5.3]{(7.5.3)}; if we prove that $u$ is {\em surjective},
then (c) will be established, since from $u(A')=B$ we deduce that
$u(\mathfrak{J}^n A')=\mathfrak{J}^n B$, in other words that $u$ is a strict morphism of topological
rings and $B$ is this isomorphic to a quotient of $A'$ by a closed ideal. As $B$ is complete for the
$\mathfrak{J}B$-adic topology, it suffices (\cite[p.~18--07]{I-1}) to show that the homomorphism
$\grad(A')\to\grad(B)$, induced canonically by $u$ for the $\mathfrak{J}$-adic filtrations on
$A'$ and $B$, is surjective. But by definition, the homomorphisms
$A'/\mathfrak{J}A'\to B/\mathfrak{J}B$ and
$\mathfrak{J}A'/\mathfrak{J}^2 A'\to\mathfrak{J}B/\mathfrak{J}^2 B$ induced by $u$ are surjective;
by induction on $n$, we immediately deduce that so is
$\mathfrak{J}A'/\mathfrak{J}^n A'\to\mathfrak{J}B/\mathfrak{J}^n B$, and {\em a fortiori} so is
$\mathfrak{J}^n A'/\mathfrak{J}^{n+1}A'\to\mathfrak{J}^n B/\mathfrak{J}^{n+1}B$, which finishes the
proof.
\end{proof}

\subsection{Completed rings of fractions}
\label{subsection-completed-rings-of-fractions}

\begin{env}[7.6.1]
\label{env-0.7.6.1}
Let $A$ be a linearly topologized ring, $(\mathfrak{J}_\lambda)$ a fundamental system of
neighborhoods of $0$ in $A$ consisting of ideals, $S$ a multiplicative subset of $A$. Let
$u_\lambda$ be the canonical homomorphism $A\to A_\lambda=A/\mathfrak{J}_\lambda$, and for
$\mathfrak{J}_\mu\subset\mathfrak{J}_\lambda$, let $u_{\lambda\mu}$ be the canonical
homomorphism $A_\mu\to A_\lambda$. Set $S_\lambda=u_\lambda(S)$, so that
$u_{\lambda\mu}(S_\mu)=S_\lambda$. The $u_{\lambda\mu}$ canonically induce surjective
homomorphisms $S_\mu^{-1}A_\mu\to S_\lambda^{-1}A_\lambda$, for which these rings form a
projective system; we denote by $A\{S^{-1}\}$ the projective limit of this system. This
definition does not depend on the fundamental system of neighborhoods $(\mathfrak{J}_\lambda)$
chosen; indeed:
\end{env}

\begin{prop}[7.6.2]
\label{prop-0.7.6.2}
The ring $A\{S^{-1}\}$ is topologically isomorphic to the separated completion of the ring
$S^{-1}A$ for the topology which has a fundamental system of neighborhoods of $0$ consisting of
the $S^{-1}\mathfrak{J}_\lambda$.
\end{prop}

\begin{proof}
\label{proof-prop-0.7.6.2}
If $v_\lambda$ is the canonical homomorphism $S^{-1}A\to S_\lambda^{-1}A_\lambda$ induced
by $u_\lambda$, then the kernel of $v_\lambda$ is surjective, hence the proposition
\hyperref[env-0.7.2.1]{(7.2.1)}.
\end{proof}

\begin{cor}[7.6.3]
\label{cor-0.7.6.3}
If $S'$ is the canonical image of $S$ in the separated completion $\widehat{A}$ of $A$, then
$A\{S^{-1}\}$ canonically identifies with $\widehat{A}\{{S'}^{-1}\}$.
\end{cor}

We note that if $A$ is separated and complete, then it is not necessarily the same for
$S^{-1}A$ with the topology defined by the $S^{-1}\mathfrak{J}_\lambda$, as we see for example
by taking $S$ to be the set of the $f^n$ ($n\geqslant 0$), where $f$ is topologically nilpotent
but not nilpotent: indeed, $S^{-1}A$ is not $0$ and on the other hand, for each $\lambda$ there
exists an $n$ such that $f^n\in\mathfrak{J}_\lambda$, so $1=f^n/f^n\in S^{-1}\mathfrak{J}_\lambda$
and $S^{-1}\mathfrak{J}_\lambda=S^{-1}A$.

\oldpage{73}
\begin{cor}[7.6.4]
\label{cor-0.7.6.4}
If, in $A$, $0$ does not belong to $S$, then the ring $A\{S^{-1}\}$ is not $0$.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.6.4}
Indeed, $0$ does not belong to $\{1\}$ in the ring $S^{-1}A$; otherwise, we would have that
$1\in S^{-1}\mathfrak{J}_\lambda$ for each open ideal $\mathfrak{J}_\lambda$ of $A$, and it
follows that $\mathfrak{J}_\lambda\cap S\neq\emp$ for all $\lambda$, contradicting the
hypothesis.
\end{proof}

\begin{env}[7.6.5]
\label{env-0.7.6.5}
We say that $A\{S^{-1}\}$ is the {\em completed ring of fractions} of $A$ with denominators
in $S$. With the above notation, it is clear that the inverse image of $S^{-1}\mathfrak{J}_\lambda$
in $A$ contains $\mathfrak{J}_\lambda$, hence the canonical map $A\to S^{-1}A$ is continuous, and if
we compose it with the canonical map $S^{-1}A\to A\{S^{-1}\}$, we obtain a canonical continuous
homomorphism $A\to A\{S^{-1}\}$, the projective limit of the homomorphisms
$A\to S_\lambda^{-1}A_\lambda$.
\end{env}

\begin{env}[7.6.6]
\label{env-0.7.6.6}
The couple consisting of $A\{S^{-1}\}$ and the canonical homomorphism $A\to A\{S^{-1}\}$ are
characterized by the following {\em universal property}: every continuous homomorphism $u$ from
$A$ to a linearly topologized ring $B$, separated and complete, such that $u(S)$ consists of
the invertible elements of $B$, uniquely factorizes as $A\to A\{S^{-1}\}\xrightarrow{u'}B$, where
$u'$ is continuous. Indeed, $u$ uniquely factorizes as $A\to S^{-1}A\xrightarrow{v'}B$; as for
each open ideal $\mathfrak{K}$ of $B$ we have that $u^{-1}(\mathfrak{K})$ contains a
$\mathfrak{J}_\lambda$, ${v'}^{-1}(\mathfrak{K})$ necessarily contains $S^{-1}\mathfrak{J}_\lambda$,
so $v'$ is continuous; since $B$ is separated and complete, $v'$ uniquely factorizes as
$S^{-1}A\to A\{S^{-1}\}\xrightarrow{u'}B$, where $u'$ is continuous; hence our assertion.
\end{env}

\begin{env}[7.6.7]
\label{env-0.7.6.7}
Let $B$ be a second linearly topologized ring, $T$ a multiplicative subset of $B$,
$\vphi:A\to B$ a continuous homomorphism such that $\vphi(S)\subset T$. According to the above,
the continuous homomorphism $A\xrightarrow{\vphi}B\to B\{T^{-1}\}$ uniquely factorizes as
$A\to A\{S^{-1}\}\xrightarrow{\vphi'}B\{T^{-1}\}$, where $\vphi'$ is continuous. In particular,
if $B=A$ and if $\vphi$ is the identity, we see that for $S\subset T$ we have a continuous
homomorphism $\rho^{T,S}:A\{S^{-1}\}\to A\{T^{-1}\}$ obtained by passing to the separated completion
from $S^{-1}A\to T^{-1}A$; if $U$ is a third multiplicative subset of $A$ such that
$S\subset T\subset U$, then we have $\rho^{U,S}=\rho^{U,T}\circ\rho^{T,S}$.
\end{env}

\begin{env}[7.6.8]
\label{env-0.7.6.8}
Let $S_1$, $S_2$ be two multiplicative subsets of $A$, and let $S_2'$ be the canonical image of
$S_2$ in $A\{S_1^{-1}\}$; we then have a canonical topological isomorphism
$A\{(S_1 S_2)^{-1}\}\isoto A\{S_1^{-1}\}\{{S_2'}^{-1}\}$, as we see from the canonical isomorphism
$(S_1 S_2)^{-1}A\isoto{S_2''}^{-1}(S_1^{-1}A)$ (where $S_2''$ is the canonical image of $S_2$ in
$S_1^{-1}A$), which is bicontinuous.
\end{env}

\begin{env}[7.6.9]
\label{env-0.7.6.9}
Let $\mathfrak{a}$ be an {\em open} ideal of $A$; we can assume that
$\mathfrak{J}_\lambda\subset\mathfrak{a}$ for all $\lambda$, and as a result
$S^{-1}\mathfrak{J}_\lambda\subset S^{-1}\mathfrak{a}$ in the ring $S^{-1}A$, in other words,
$S^{-1}\mathfrak{a}$ is an {\em open} ideal of $S^{-1}A$; we denote by $\mathfrak{a}\{S^{-1}\}$ its
separated completion, equal to $\varprojlim(S^{-1}\mathfrak{a}/S^{-1}\mathfrak{J}_\lambda)$, which is
an {\em open} ideal of $A\{S^{-1}\}$, isomorphic to the closure of the canonical image of
$S^{-1}\mathfrak{a}$. In addition, {\em the discrete ring $A\{S^{-1}\}/\mathfrak{a}\{S^{-1}\}$ is
canonically isomorphic to $S^{-1}A/S^{-1}\mathfrak{a}=S^{-1}(A/\mathfrak{a})$}. Conversely, if
$\mathfrak{a}'$ is an open ideal of $A\{S^{-1}\}$, then $\mathfrak{a}'$ contains an ideal of the
form $\mathfrak{J}_\lambda\{S^{-1}\}$ which is the inverse image of an ideal of
$S^{-1}A/S^{-1}\mathfrak{J}_\lambda$, which is necessarily \hyperref[env-0.1.2.6]{(1.2.6)} of the
form $S^{-1}\mathfrak{a}$, where $\mathfrak{a}\supset\mathfrak{J}_\lambda$. We conclude that
$\mathfrak{a}'=\mathfrak{a}\{S^{-1}\}$. In particular \hyperref[env-0.1.2.6]{(1.2.6)}:
\end{env}

\begin{prop}[7.6.10]
\label{prop-0.7.6.10}
The map $\mathfrak{p}\mapsto\mathfrak{p}\{S^{-1}\}$ is an increasing bijection from the set of
{\em open prime} ideals $\mathfrak{p}$ of $A$ such that $\mathfrak{p}\cap S=\emp$ to the set
of {\em open prime} ideals
\oldpage{74}
of $A\{S^{-1}\}$; in addition, the field of fractions of $A\{S^{-1}\}/\mathfrak{p}\{S^{-1}\}$ is
canonically isomorphic to that of $A/\mathfrak{p}$.
\end{prop}

\begin{prop}[7.6.11]
\label{prop-0.7.6.11}
\medskip\noindent
\begin{itemize}
  \item[{\rm(i)}] If $A$ is an admissible ring, then so is $A'=A\{S^{-1}\}$, and for every ideal
    of definition $\mathfrak{J}$ for $A$, $\mathfrak{J}'=\mathfrak{J}\{S^{-1}\}$ is an ideal of
    definition for $A'$.
  \item[{\rm(ii)}] Let $A$ be an adic ring, $\mathfrak{J}$ an ideal of definition for $A$ such that
    $\mathfrak{J}/\mathfrak{J}^2$ is of finite type over $A/\mathfrak{J}$; then $A'$ is a
    $\mathfrak{J}'$-adic ring and $\mathfrak{J}'/{\mathfrak{J}'}^2$ is of finite type over
    $A'/\mathfrak{J}'$. If in addition $A$ is Noetherian, then so is $A'$.
\end{itemize}
\end{prop}

\begin{proof}
\label{proof-prop-7.6.11}
\medskip\noindent
\begin{itemize}
  \item[(i)] If $\mathfrak{J}$ is an ideal of definition for $A$, then it is clear that
    $S^{-1}\mathfrak{J}$ is an ideal of definition for the topological ring $S^{-1}A$, since we
    have $(S^{-1}\mathfrak{J})^n=S^{-1}\mathfrak{J}^n$. Let $A''$ be the separated ring associated
    to $S^{-1}A$, $\mathfrak{J}''$ the image of $S^{-1}\mathfrak{J}$ in $A''$; the image of
    $S^{-1}\mathfrak{J}^n$ is ${\mathfrak{J}''}^n$, so ${\mathfrak{J}''}^n$ tends to $0$ in $A''$;
    as $\mathfrak{J}'$ is the closure of $\mathfrak{J}''$ in $A'$, ${\mathfrak{J}'}^n$ is contained
    in the closure of ${\mathfrak{J}''}^n$, hence tends to $0$ in $A'$.
  \item[(ii)] Set $A_i=A/\mathfrak{J}^{i+1}$, and for $i\leqslant j$, let $u_{ij}$ be the canonical
    homomorphism $A/\mathfrak{J}^{j+1}\to A/\mathfrak{J}^{i+1}$; let $S_i$ be the canonical image of
    $S$ in $A_i$, and set $A_i'=S_i^{-1}A_i$; finally, let $u_{ij}':A_j'\to A_i'$ be the homomorphism
    canonically induced by $u_{ij}$. We show that the projective system $(A_i',u_{ij}')$ satisfies
    the conditions of Proposition \hyperref[prop-0.7.2.7]{(7.2.7)}: it is clear that the $u_{ij}'$
    are surjective; on the other hand, the kernel of $u_{ij}'$ is
    $S_j^{-1}(\mathfrak{J}^{i+1}/\mathfrak{J}^{j+1})$ \hyperref[env-0.1.3.2]{(1.3.2)}, equal to
    ${\mathfrak{J}_j'}^{i+1}$, where $\mathfrak{J}_j'=S_j^{-1}(\mathfrak{J}/\mathfrak{J}^{j+1})$;
    finally, $\mathfrak{J}_1'/{\mathfrak{J}_1'}^2=S_1^{-1}(\mathfrak{J}/\mathfrak{J}^2)$, and as
    $\mathfrak{J}/\mathfrak{J}^2$ is of finite type over $A/\mathfrak{J}^2$,
    $\mathfrak{J}_1'/{\mathfrak{J}_1'}^2$ is of finite type over $A_1'$. Finally, if $A$ is
    Noetherian, then so is $A_0'=S_0^{-1}(A/\mathfrak{J})$, which finishes the proof
    \hyperref[cor-0.7.2.8]{(7.2.8)}.
\end{itemize}
\end{proof}

\begin{cor}[7.6.12]
\label{cor-0.7.6.12}
Under the hypotheses of Proposition \hyperref[prop-0.7.6.11]{(7.2.6, ii)}, we have
$(\mathfrak{J}\{S^{-1}\})^n=\mathfrak{J}^n\{S^{-1}\}$.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.6.12}
This follows from Proposition \hyperref[prop-0.7.2.7]{(7.2.7)} and the proof of
Proposition \hyperref[prop-0.7.6.11]{(7.6.11)}.
\end{proof}

\begin{prop}[7.6.13]
\label{prop-0.7.6.13}
Let $A$ be an adic Noetherian ring, $S$ a multiplicative subset of $A$; then $A\{S^{-1}\}$ is a
flat $A$-module.
\end{prop}

\begin{proof}
\label{proof-prop-0.7.6.13}
If $\mathfrak{J}$ is an ideal of definition for $A$, then $A\{S^{-1}\}$ is the separated completion
of the Noetherian ring $S^{-1}A$ equipped with the $S{-1}\mathfrak{J}$-preadic topology; as a result
\hyperref[cor-0.7.3.3]{(7.3.3)} $A\{S^{-1}\}$ is a flat $S^{-1}A$-module; as $S^{-1}A$ is a flat
$A$-module \hyperref[env-0.6.3.1]{(6.3.1)}, the proposition follows from the transitivity of
flatness \hyperref[env-0.6.2.1]{(6.2.1)}.
\end{proof}

\begin{cor}[7.6.14]
\label{cor-0.7.6.14}
Under the hypotheses of Proposition \hyperref[prop-0.7.6.13]{(7.6.13)}, let $S'\subset S$ be a second
multiplicative subset of $A$; then $A\{S^{-1}\}$ is a flat $A\{{S'}^{-1}\}$-module.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.6.14}
By \hyperref[env-0.7.6.8]{(7.6.8)}, $A\{S^{-1}\}$ canonically identifies with
$A\{{S'}^{-1}\}\{S_0^{-1}\}$, where $S_0$ is the canonical image of $S$ in $A\{{S'}^{-1}\}$, and
$A\{{S'}^{-1}\}$ is Noetherian \hyperref[prop-0.7.6.11]{(7.6.11)}.
\end{proof}

\begin{env}[7.6.15]
\label{env-0.7.6.15}
For each element $f$ of a linearly topologized ring $A$, we denote by $A_{\{f\}}$ the completed
ring of fractions $A\{S_f^{-1}\}$, where $S_f$ is the multiplicative set of the $f^n$
($n\geqslant 0$); for each open ideal $\mathfrak{a}$ of $A$, we write $\mathfrak{a}_{\{f\}}$ for
$\mathfrak{a}\{S_f^{-1}\}$. If $g$ is a second element of $A$, then we have a canonical continuous
homomorphism $A_{\{f\}}\to A_{\{fg\}}$ \hyperref[env-0.7.6.7]{(7.6.7)}. When $f$ varies over a
multiplicative subset $S$ of $A$, the $A_{\{f\}}$ form a filtered inductive system with the above
homomorphisms; we set $A_{\{S\}}=\varinjlim_{f\in S}A_{\{f\}}$. For every $f\in S$, we have a
homomorphism $A_{\{f\}}\to A\{S^{-1}\}$ \hyperref[env-0.7.6.7]{(7.6.7)}, and
\oldpage{75}
these homomorphisms form an inductive system; by passing to the inductive limit, they thus define
a canonical homomorphism $A_{\{S\}}\to A\{S^{-1}\}$.
\end{env}

\begin{prop}[7.6.16]
\label{prop-0.7.6.16}
If $A$ is a Noetherian ring, then $A\{S^{-1}\}$ is a flat module over $A_{\{S\}}$.
\end{prop}

\begin{proof}
\label{proof-prop-0.7.6.16}
By \hyperref[cor-0.7.6.14]{(7.6.14)}, $A\{S^{-1}\}$ is flat for each of the rings $A_{\{f\}}$ for
$f\in S$, and the conclusion follows from \hyperref[env-0.6.2.3]{(6.2.3)}.
\end{proof}

\begin{prop}[7.6.17]
\label{prop-0.7.6.17}
Let $\mathfrak{p}$ be an open prime ideal in an admissible ring $A$, and let $S=A-\mathfrak{p}$.
Then the rings $A\{S^{-1}\}$ and $A_{\{S\}}$ are local rings, the canonical homomorphism
$A_{\{S\}}\to A\{S^{-1}\}$ is local, and the residue fields of $A_{\{S\}}$ and $A\{S^{-1}\}$ are
canonically isomorphic to the field of fractions of $A/\mathfrak{p}$.
\end{prop}

\begin{proof}
\label{proof-prop-0.7.6.17}
Let $\mathfrak{J}\subset\mathfrak{p}$ be an ideal of definition for $A$; we have
$S^{-1}\mathfrak{J}\subset S^{-1}\mathfrak{p}=\mathfrak{p}A_\mathfrak{p}$, so
$A_\mathfrak{p}/S^{-1}\mathfrak{J}$ is a local ring; we conclude from 
Corollary \hyperref[cor-0.7.1.12]{(7.1.12)}, \hyperref[env-0.7.6.9]{(7.6.9)}, and
Proposition \hyperref[prop-0.7.6.11]{(7.6.11, i)} that $A\{S^{-1}\}$ is a local ring. Set
$\mathfrak{m}=\varinjlim_{f\in S}\mathfrak{p}_{\{f\}}$, which is an ideal in $A_{\{S\}}$; we
will see that each element in $A_{\{S\}}$ not in $\mathfrak{m}$ is invertible. Indeed, such an
element is the image in $A_{\{S\}}$ of an element $z\in A_{\{f\}}$ not in $\mathfrak{p}_{\{f\}}$,
for an $f\in S$; its canonical image $z_0$ in
$A_{\{f\}}/\mathfrak{J}_{\{f\}}=S_f^{-1}(A/\mathfrak{J})$ therefore is not in
$S_f^{-1}(\mathfrak{p}/\mathfrak{J})$ \hyperref[env-0.7.6.9]{(7.6.9)}, which means that
$z_0=\overline{x}/\overline{f}^k$, where $x\not\in\mathfrak{p}$ and $\overline{x}$, $\overline{f}$
are the classes of $x$, $f$ mod $\mathfrak{J}$. As $x\in S$, we have $g=xf\in S$, and in
$S_g^{-1}A$, the canonical image $y_0=x^{k+1}/g^k$ of $x/f^k\in S_f^{-1}A$ admits an inverse
$x^{k-1}f^{2k}/g^k$. This implies {\em a fortiori} that the image of $y_0$ in
$S_g^{-1}A/S_g^{-1}\mathfrak{J}$ is invertible, so (\hyperref[env-0.7.6.9]{(7.6.9)} and
Corollary \hyperref[cor-0.7.1.12]{(7.1.12)}) the canonical image $y$ of $z$ in $A_{\{g\}}$ is
invertible; the image of $z$ in $A_{\{S\}}$ (equal to that of $y$) is as a result invertible.
We thus see that $A_{\{S\}}$ a local ring with maximal ideal $\mathfrak{m}$; in addition, the image
of $\mathfrak{p}_{\{f\}}$ in $A\{S^{-1}\}$ is contained in the maximal ideal $\mathfrak{p}\{S^{-1}\}$
of this ring; {\em a fortiori}, the image of $\mathfrak{m}$ in $A\{S^{-1}\}$ is contained in
$\mathfrak{p}\{S^{-1}\}$, so the canonical homomorphism $A_{\{S\}}\to A\{S^{-1}\}$ is local. Finally,
as each element of $A\{S^{-1}\}/\mathfrak{p}\{S^{-1}\}$ is the image of an element in the ring
$S_f^{-1}A$ for a suitable $f\in S$, the homomorphism $A_{\{S\}}\to A\{S^{-1}\}/\mathfrak{p}\{S^{-1}\}$
is surjective, and gives an isomorphism of the residue fields by passing to quotients.
\end{proof}

\begin{cor}[7.6.18]
\label{cor-0.7.6.18}
Under the hypotheses of Proposition \hyperref[prop-0.7.6.17]{(7.6.17)}, if we suppose also that
$A$ is an adic Noetherian ring, then the local rings $A\{S^{-1}\}$ and $A_{\{S\}}$ are Noetherian,
and $A\{S^{-1}\}$ is a faithfully flat $A_{\{S\}}$-module.
\end{cor}

\begin{proof}
\label{proof-cor-0.7.6.18}
We know from before \hyperref[prop-0.7.6.11]{(7.6.11, ii)} that $A\{S^{-1}\}$ is Noetherian and
$A_{\{S\}}$-flat \hyperref[prop-0.7.6.16]{(7.6.16)}; as the homomorphism $A_{\{S\}}\to A\{S^{-1}\}$
is local, we conclude that $A\{S^{-1}\}$ is a faithfully flat $A_{\{S\}}$-module
\hyperref[env-0.6.6.2]{(6.6.2)}, and as a result that $A_{\{S\}}$ is Noetherian
\hyperref[env-0.6.5.2]{(6.5.2)}.
\end{proof}

\subsection{Completed tensor products}
\label{subsection-completed-tensor-prods}

\subsection{Topologies on modules of homomorphisms}
\label{subsection-topologies-on-hom-modules}

